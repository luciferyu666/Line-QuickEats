<!DOCTYPE html>
<html lang="zh-Hant">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ğŸ” QuickEats - å¿«é¤é”äºº</title>
    <link rel="stylesheet" href="styles.css" />
    <!-- åŠ è¼‰LINE LIFF SDK -->
    <script src="https://static.line-scdn.net/liff/edge/2.1/liff.js"></script>
  </head>
  <body>
    <!-- é ‚éƒ¨æ©«å¹…æ¨™é¡Œ -->
    <header>
      <h1>ğŸ” æ­¡è¿ä¾†åˆ° QuickEats</h1>
      <p>è¼•é¬†é»é¤ï¼Œå¿«æ·äº«ç”¨ï¼</p>
    </header>

    <!-- ç™»éŒ„å’Œé–‹å§‹é»é¤çš„éƒ¨åˆ† -->
    <main>
      <!-- ç”¨æˆ¶å€‹äººä¿¡æ¯ -->
      <div id="profile">
        <p id="profileInfo">ğŸ” åŠ è¼‰ä¸­...</p>
      </div>

      <!-- é–‹å§‹é»é¤æŒ‰éˆ• -->
      <button id="startOrderButton" style="display: none">ğŸš€ é–‹å§‹é»é¤</button>
    </main>

    <!-- ç‰ˆæ¬Šä¿¡æ¯ -->
    <footer>
      <p>Â© 2024 QuickEats. All Rights Reserved.</p>
    </footer>

    <script>
      // åˆå§‹åŒ– LIFF SDK
      async function initializeLiff() {
        const profileInfoElement = document.getElementById("profileInfo");
        const startOrderButton = document.getElementById("startOrderButton");

        try {
          // åˆå§‹åŒ– LIFFï¼Œæ›¿æ› 'YOUR_LIFF_ID' ç‚ºå¯¦éš›çš„ LIFF ID
          await liff.init({ liffId: "YOUR_LIFF_ID" });

          // æª¢æŸ¥æ˜¯å¦å·²ç™»éŒ„ LINE
          if (!liff.isLoggedIn()) {
            liff.login(); // å¦‚æœæœªç™»éŒ„ï¼Œå‰‡é‡å®šå‘åˆ° LINE ç™»éŒ„é é¢
            return;
          }

          // å·²ç™»éŒ„ï¼Œç²å–ç”¨æˆ¶ä¿¡æ¯
          const profile = await liff.getProfile();
          profileInfoElement.textContent = `ğŸ‰ æ­¡è¿, ${profile.displayName}!`;
          startOrderButton.style.display = "block";

          // ç¶å®šæŒ‰éˆ•è¡Œç‚º
          startOrderButton.addEventListener("click", () => {
            window.location.href = "https://quick-eats-two.vercel.app/"; // è·³è½‰åˆ° QuickEats é»é¤ç³»çµ±
          });

          console.log("LIFF åˆå§‹åŒ–æˆåŠŸï¼");
        } catch (error) {
          console.error("LIFF åˆå§‹åŒ–å¤±æ•—ï¼š", error);
          profileInfoElement.textContent = "âŒ ç„¡æ³•åŠ è¼‰ LIFFï¼Œè«‹ç¨å¾Œå†è©¦ã€‚";
        }
      }

      // é é¢åŠ è¼‰æ™‚åˆå§‹åŒ– LIFF
      window.onload = initializeLiff;
    </script>
  </body>
</html>
