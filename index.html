<!DOCTYPE html>
<html lang="zh-Hant">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ğŸ” QuickEats - å¿«é¤é”äºº</title>
    <link rel="stylesheet" href="styles.css" />
    <!-- åŠ è¼‰ LINE LIFF SDK -->
    <script src="https://static.line-scdn.net/liff/edge/2.1/liff.js"></script>
  </head>
  <body>
    <!-- é ‚éƒ¨æ©«å¹…æ¨™é¡Œ -->
    <header>
      <h1>ğŸ” æ­¡è¿ä¾†åˆ° QuickEats</h1>
      <p>è¼•é¬†é»é¤ï¼Œå¿«æ·äº«ç”¨ï¼</p>
    </header>

    <!-- ç™»éŒ„å’Œé–‹å§‹é»é¤çš„éƒ¨åˆ† -->
    <main>
      <div id="profile">
        <p id="profileInfo">ğŸ” åŠ è¼‰ä¸­...</p>
      </div>
      <button id="startOrderButton" style="display: none">ğŸš€ é–‹å§‹é»é¤</button>
    </main>

    <!-- ç‰ˆæ¬Šä¿¡æ¯ -->
    <footer>
      <p>Â© 2024 QuickEats. All Rights Reserved.</p>
    </footer>

    <script>
      // è‡ªå‹•åˆå§‹åŒ– LIFF
      async function initializeLiff() {
        const profileInfoElement = document.getElementById("profileInfo");
        const startOrderButton = document.getElementById("startOrderButton");

        try {
<<<<<<< HEAD
          // åˆå§‹åŒ– LIFFï¼Œæ›¿æ› '2006691726-aGlQ9R4R' ç‚ºå¯¦éš›çš„ LIFF ID
          await liff.init({ liffId: "YOUR_LIFF_ID" });
=======
          // åˆå§‹åŒ– LIFFï¼Œæ›¿æ›æ­£ç¢ºçš„ LIFF ID
          await liff.init({ liffId: "2006691726-aGlQ9R4R" });
>>>>>>> 910c1d4 (Updated index.html with LIFF auto-load functionality)

          // æª¢æŸ¥æ˜¯å¦å·²ç™»éŒ„ LINE
          if (!liff.isLoggedIn()) {
            liff.login(); // æœªç™»éŒ„å‰‡è·³è½‰åˆ° LINE ç™»éŒ„é é¢
            return;
          }

          // å·²ç™»éŒ„ï¼Œç”¨æˆ¶è³‡æ–™åŠ è¼‰
          const profile = await liff.getProfile();
          profileInfoElement.innerHTML = `
            <p>ğŸ‰ æ­¡è¿, ${profile.displayName}!</p>
            <img src="${profile.pictureUrl}" alt="Profile Picture" width="100" />
          `;
          startOrderButton.style.display = "block";

          // ç¶å®šæŒ‰éˆ•äº‹ä»¶
          startOrderButton.addEventListener("click", () => {
            liff.openWindow({
              url: "https://quick-eats-two.vercel.app/", // è·³è½‰åˆ° QuickEats é»é¤ç³»çµ±
              external: true,
            });
          });

          console.log("âœ… LIFF åˆå§‹åŒ–æˆåŠŸ");
        } catch (error) {
          console.error("âŒ LIFF åˆå§‹åŒ–å¤±æ•—ï¼š", error);
          profileInfoElement.textContent = "âŒ ç„¡æ³•åŠ è¼‰ LIFFï¼Œè«‹ç¨å¾Œå†è©¦ã€‚";
        }
      }

      // é é¢åŠ è¼‰æ™‚è‡ªå‹•åˆå§‹åŒ– LIFF
      window.onload = initializeLiff;
    </script>
  </body>
</html>
